// HLPPICT.H
//
// Copyright (c) 2000 Symbian Ltd.  All rights reserved.
//

#ifndef __HLPPICT_H__
#define __HLPPICT_H__

// System includes
#include <e32std.h>
#include <d32dbms.h>
#include <s32file.h>
#include <badesca.h>
#include <gdi.h> // for CPicture

// User includes
#include "hlpdb.h"

// Constants
const TUid KUidHelpImage = { 0x100068D4 };



///////////////////////////////////////////////////////////////////////////////////////
// ----> CHelpPicture (header)
///////////////////////////////////////////////////////////////////////////////////////
class CHelpPicture : public CPicture
	{
///////////////////////////////////////////////////////////////////////////////////////
public: // CONSTRUCT / DESTRUCT
///////////////////////////////////////////////////////////////////////////////////////
	static CHelpPicture* NewLC(const CStreamStore& aStore, TStreamId aStreamId, CHlpDatabase& aDatabase);
	~CHelpPicture();

///////////////////////////////////////////////////////////////////////////////////////
public: // FROM CPicture
///////////////////////////////////////////////////////////////////////////////////////
	void Draw(CGraphicsContext& aGc, const TPoint& aTopLeft, const TRect& aClipRect, MGraphicsDeviceMap* aMap) const;
	void ExternalizeL(RWriteStream& aStream) const;
	void GetCropInTwips(TMargins& aMargins) const;
	void GetOriginalSizeInTwips(TSize& aSize) const;
	void SetScaleFactor(TInt aScaleFactorWidth, TInt aScaleFactorHeight);
	void SetCropInTwips(const TMargins& aMargins);
	TInt ScaleFactorWidth() const;
	TInt ScaleFactorHeight() const;

///////////////////////////////////////////////////////////////////////////////////////
private: // INTERNAL CONSTRUCT
///////////////////////////////////////////////////////////////////////////////////////
	CHelpPicture();
	void ConstructL(const CStreamStore& aStore, TStreamId aStreamId, CHlpDatabase& aDatabase);

///////////////////////////////////////////////////////////////////////////////////////
private: // INTERNAL METHODS
///////////////////////////////////////////////////////////////////////////////////////
	void RestoreL(const CStreamStore& aStore, TStreamId aStreamId, CHlpDatabase& aDatabase);

///////////////////////////////////////////////////////////////////////////////////////
private: // MEMBER DATA
///////////////////////////////////////////////////////////////////////////////////////
	CFbsBitmap* iImage;
	};



#endif